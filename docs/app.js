(function(){"use strict";var e={7254:function(e,t,i){var o=i(9963),a=i(6252),n=i(3577);const r=(0,a._)("canvas",{class:"game",id:"game"},null,-1),s=(0,a._)("div",{class:"cross"},[(0,a._)("div",null,"+")],-1),l={key:0,class:"text"},h={key:1,class:"text"};function c(e,t,i,o,c,m){return(0,a.wg)(),(0,a.iD)(a.HY,null,[r,s,c.interact&&!c.message?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",null,"Press '"+(0,n.zw)(c.interact.key.toUpperCase())+"'",1),(0,a._)("div",null,(0,n.zw)(c.interact.actionLabel)+" "+(0,n.zw)(c.interact.label),1)])):c.message?((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",null,(0,n.zw)(c.message),1)])):(0,a.kq)("",!0)],64)}var m=i(5385),d=i(1125);i(2001),i(6699);class p{constructor(){this.all={}}addTexture(e){return this.all[e.name]=this.setupTexture(e),this.all[e.name]}setAsset(e,t){const i=new m.Texture(t.asset,t.scene);t.samplingMode&&setTimeout((()=>{i.updateSamplingMode(t.samplingMode)}),1500),e.diffuseTexture=i}setupTexture(e){let t=new m.StandardMaterial(this.name,this.scene);return e.asset&&this.setAsset(t,e),t}}const u=new p;var w=u;const g={door_gar:"Garage",door_mud0:"Laundry Room",door_bra2:"Orb Room",door_brb4:"Bedroom",door_bha7:"Bathroom",door_brc2:"Bathroom",door_brc4:"Closet",door_brc6:"Main Bedroom",goal_liv8:"House"},b={red:{color:new m.Color3.Red},green:{color:new m.Color3.Green},blue:{color:new m.Color3.Blue},yellow:{color:new m.Color3.Yellow},magenta:{color:new m.Color3.Magenta}},f={kitchen:{u:0,v:0},living:{u:2,v:0},outside:{u:3,v:5},orb:{u:14,v:1},family:{u:6,v:2},bathroom1:{u:3,v:4},bathroom2:{u:6,v:1},laundry:{u:7,v:6},hall:{u:0,v:6},garage:{u:12,v:6},bedroom2:{u:10,v:1},bedroom3:{u:12,v:3},closet:{u:15,v:4}},y=[{name:"floor",height:275,width:175,material:w.all.floors,position:new m.Vector3(0,0,0),coordinates:{map:"floors",a:{u:2},b:{u:2}}},{name:"roof",height:275,width:175,material:w.all.floors,position:new m.Vector3(0,40,0),coordinates:{map:"floors",a:{u:7},b:{u:5}}}],v=[{name:"gar0",height:20,width:15,position:new m.Vector3(-22.5,30,-30),coordinates:{map:"walls",a:f.laundry,b:f.garage}},{name:"door_gar",height:20,width:15,position:new m.Vector3(-22.5,10,-30),material:"magenta"},{name:"gar1",height:40,width:15,position:new m.Vector3(-7.5,20,-30),coordinates:{map:"walls",a:f.laundry,b:f.garage}},{name:"gar2",height:40,width:20,position:new m.Vector3(0,20,-40),rotate:!0,coordinates:{map:"walls",a:f.kitchen,b:f.garage}},{name:"gar3",height:40,width:60,position:new m.Vector3(0,20,-80),rotate:!0,coordinates:{map:"walls",a:f.living,b:f.garage}},{name:"gar6",height:40,width:80,position:new m.Vector3(-40,20,-110),coordinates:{map:"walls",a:f.garage,b:f.outside}},{name:"gar9",height:40,width:80,position:new m.Vector3(-80,20,-70),rotate:!0,coordinates:{map:"walls",a:f.garage,b:f.outside}},{name:"gar11",height:40,width:50,position:new m.Vector3(-55,20,-30),coordinates:{map:"walls",a:f.orb,b:f.garage}},{name:"mud0",height:20,width:15,position:new m.Vector3(-22.5,30,0),coordinates:{map:"walls",a:f.hall,b:f.laundry}},{name:"door_mud0",height:20,width:15,position:new m.Vector3(-22.5,10,0),material:"magenta"},{name:"mud1",height:40,width:15,position:new m.Vector3(-7.5,20,0),coordinates:{map:"walls",a:f.hall,b:f.laundry}},{name:"mud3",height:40,width:30,position:new m.Vector3(0,20,-15),rotate:!0,coordinates:{map:"walls",a:f.kitchen,b:f.laundry}},{name:"bra0",height:40,width:50,position:new m.Vector3(-55,20,20),coordinates:{map:"walls",a:f.bedroom2,b:f.orb}},{name:"bra1",height:40,width:5,position:new m.Vector3(-30,20,17.5),rotate:!0,coordinates:{map:"walls",a:f.hall,b:f.orb}},{name:"bra2",height:20,width:15,position:new m.Vector3(-30,30,7.5),rotate:!0,coordinates:{map:"walls",a:f.hall,b:f.orb}},{name:"door_bra2",height:20,width:15,position:new m.Vector3(-30,10,7.5),rotate:!0,material:"magenta"},{name:"bra4",height:40,width:30,position:new m.Vector3(-30,20,-15),rotate:!0,coordinates:{map:"walls",a:f.laundry,b:f.orb}},{name:"bra9",height:40,width:50,position:new m.Vector3(-80,20,-5),rotate:!0,coordinates:{map:"walls",a:f.orb,b:f.outside}},{name:"brb0",height:40,width:50,position:new m.Vector3(-55,20,70),coordinates:{map:"walls",a:f.bedroom3,b:f.bedroom2}},{name:"brb1",height:40,width:30,position:new m.Vector3(-30,20,55),rotate:!0,coordinates:{map:"walls",a:f.hall,b:f.bedroom2}},{name:"brb4",height:20,width:15,position:new m.Vector3(-30,30,32.5),rotate:!0,coordinates:{map:"walls",a:f.hall,b:f.bedroom2}},{name:"door_brb4",height:20,width:15,position:new m.Vector3(-30,10,32.5),rotate:!0,material:"magenta"},{name:"brb5",height:40,width:5,position:new m.Vector3(-30,20,22.5),rotate:!0,coordinates:{map:"walls",a:f.hall,b:f.bedroom2}},{name:"brb9",height:40,width:50,position:new m.Vector3(-80,20,45),rotate:!0,coordinates:{map:"walls",a:f.bedroom2,b:f.outside}},{name:"bha0",height:40,width:20,position:new m.Vector3(0,20,60),coordinates:{map:"walls",a:f.closet,b:f.bathroom1}},{name:"bha6",height:40,width:20,position:new m.Vector3(0,20,20),coordinates:{map:"walls",a:f.bathroom1,b:f.kitchen}},{name:"bha7",height:20,width:15,position:new m.Vector3(-10,30,27.5),rotate:!0,coordinates:{map:"walls",a:f.bathroom1,b:f.hall}},{name:"door_bha7",height:20,width:15,position:new m.Vector3(-10,10,27.5),rotate:!0,material:"magenta"},{name:"bha10",height:40,width:25,position:new m.Vector3(-10,20,47.5),rotate:!0,coordinates:{map:"walls",a:f.bathroom1,b:f.hall}},{name:"brc0",height:40,width:70,position:new m.Vector3(-45,20,130),material:"red"},{name:"brc1",height:40,width:15,position:new m.Vector3(-10,20,122.5),rotate:!0,material:"blue"},{name:"brc2",height:20,width:15,position:new m.Vector3(-10,30,107.5),rotate:!0,material:"green"},{name:"door_brc2",height:20,width:15,position:new m.Vector3(-10,10,107.5),rotate:!0,material:"magenta"},{name:"brc3",height:40,width:10,position:new m.Vector3(-10,20,95),rotate:!0,material:"blue"},{name:"brc4",height:20,width:15,position:new m.Vector3(-10,30,82.5),rotate:!0,material:"green"},{name:"door_brc4",height:20,width:15,position:new m.Vector3(-10,10,82.5),rotate:!0,material:"magenta"},{name:"brc5",height:40,width:15,position:new m.Vector3(-10,20,67.5),rotate:!0,material:"blue"},{name:"brc6",height:20,width:20,position:new m.Vector3(-20,30,60),material:"green"},{name:"door_brc6",height:20,width:20,position:new m.Vector3(-20,10,60),material:"magenta"},{name:"brc9",height:40,width:60,position:new m.Vector3(-80,20,100),rotate:!0,material:"blue"},{name:"bhb6",height:40,width:20,position:new m.Vector3(0,20,90),coordinates:{map:"walls",a:f.bathroom2,b:f.closet}},{name:"bhb3",height:40,width:40,position:new m.Vector3(30,20,110),rotate:!0,coordinates:{map:"walls",a:f.outside,b:f.bathroom2}},{name:"bhb0",height:40,width:40,position:new m.Vector3(10,20,130),coordinates:{map:"walls",a:f.outside,b:f.bathroom2}},{name:"liv0",height:40,width:50,position:new m.Vector3(55,20,-50),coordinates:{map:"walls",a:f.kitchen,b:f.living}},{name:"liv3",height:40,width:80,position:new m.Vector3(80,20,-90),rotate:!0,coordinates:{map:"walls",a:f.outside,b:f.living}},{name:"liv6",height:40,width:60,position:new m.Vector3(50,20,-130),coordinates:{map:"walls",a:f.living,b:f.outside}},{name:"liv7",height:40,width:20,position:new m.Vector3(20,20,-120),rotate:!0,coordinates:{map:"walls",a:f.living,b:f.outside}},{name:"liv8",height:10,width:20,position:new m.Vector3(10,35,-110),coordinates:{map:"walls",a:f.living,b:f.outside}},{name:"goal_liv8",height:30,width:20,position:new m.Vector3(10,15,-110),material:"yellow"},{name:"liv1",height:15,width:30,position:new m.Vector3(15,32.5,-50),coordinates:{map:"walls",a:f.kitchen,b:f.living}},{name:"kit0",height:15,width:30,position:new m.Vector3(50,32.5,20),coordinates:{map:"walls",a:f.family,b:f.kitchen}},{name:"kit1",height:7,width:30,position:new m.Vector3(50,3.5,20),coordinates:{map:"walls",a:f.family,b:f.kitchen,isBottom:!0}},{name:"kit2",height:40,width:15,position:new m.Vector3(72.5,20,20),coordinates:{map:"walls",a:f.family,b:f.kitchen}},{name:"kit3",height:40,width:70,position:new m.Vector3(80,20,-15),rotate:!0,coordinates:{map:"walls",a:f.outside,b:f.kitchen}},{name:"kit10",height:15,width:20,position:new m.Vector3(20,32.5,20),coordinates:{map:"walls",a:f.family,b:f.kitchen}},{name:"kit11",height:40,width:5,position:new m.Vector3(32.5,20,20),coordinates:{map:"walls",a:f.family,b:f.kitchen}},{name:"fam0",height:40,width:70,position:new m.Vector3(45,20,90),coordinates:{map:"walls",a:f.outside,b:f.family}},{name:"fam3",height:40,width:70,position:new m.Vector3(80,20,55),rotate:!0,coordinates:{map:"walls",a:f.outside,b:f.family}},{name:"fam9",height:40,width:70,position:new m.Vector3(10,20,55),rotate:!0,coordinates:{map:"walls",a:f.family,b:f.bathroom1}}];function V(e,t){const i=Array(6).fill(new m.Vector4.Zero);return i[0]=new m.Vector4((e.a.u||0)/t.columns,(e.a.v||0)/t.rows,((e.a.u||0)+1)/t.columns,((e.a.v||0)+1)/t.rows),i[1]=new m.Vector4((e.b.u||0)/t.columns,(e.b.v||0)/t.rows,((e.b.u||0)+1)/t.columns,((e.b.v||0)+1)/t.rows),console.log(i),{alignVertical:e.isBottom?m.Mesh.BOTTOM:m.Mesh.TOP,faceUV:i,tileHeight:t.tileHeight,tileWidth:t.tileWidth}}function k(e){Object.keys(b).forEach((t=>{b[t].material=new m.StandardMaterial(t,e),b[t].material.diffuseColor=b[t].color}));const t={floors:{columns:8,rows:1,tileHeight:60,tileWidth:60,material:w.all.floors},walls:{columns:16,rows:7,tileHeight:40,tileWidth:30,material:w.all.walls}};[...v,...y].forEach((e=>{let i;const o={height:e.height,width:e.width,depth:.5};if(e.material&&"string"===typeof e.material)i=m.MeshBuilder.CreateBox(e.name,o),i.material=b[e.material].material;else if(e.coordinates){const a={...o,...V(e.coordinates,t[e.coordinates.map])};console.log(a,e.coordinates.map,{...w.all.floors}),i=m.MeshBuilder.CreateTiledBox(e.name,a),i.material=t[e.coordinates.map].material}i.position=e.position,i.rotation.y=e.rotate?Math.PI/2:0,i.rotation.x="roof"===e.name||"floor"===e.name?Math.PI/-2:0,i.checkCollisions=!0}))}var C={createStructure:k,meshLabels:g};class M{constructor(){this.all={},this.jump=new m.Animation("jump","position.y",60,m.Animation.ANIMATIONTYPE_FLOAT,m.Animation.ANIMATIONLOOPMODE_CYCLE);const e=new m.CircleEase;e.setEasingMode(m.EasingFunction.EASINGMODE_EASEOUT),this.jump.setEasingFunction(e)}addCamera(e){this.all[e.name]=this.setupCamera(e),this.addCameraWASD(e.name)}addCameraWASD(e){this.all[e].keysUp.push(87),this.all[e].keysDown.push(83),this.all[e].keysRight.push(68),this.all[e].keysLeft.push(65)}addPointerLock(e,t){e.onPointerDown=()=>{t.requestPointerLock=t.requestPointerLock||t.msRequestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock&&t.requestPointerLock()}}getGroundDistance(e,t){const i=this.all[e].position,o=m.Vector3.Down(),a=300,n=new m.Ray(i,o,a),r=t.pickWithRay(n);return r.distance}getFacingMesh(e,t){const i=t.createPickingRay(t.pointerX,t.pointerY,m.Matrix.Identity(),this.all[e]),o=t.pickWithRay(i);if(o.distance<30)return o.pickedMesh}setupCamera(e){const t=new m.UniversalCamera(e.name,e.position||new m.Vector3(0,2*e.playerHeight,0),e.scene);return t.inertia=.3,t.angularSensibility=800,t.speed=10,t.setTarget(new m.Vector3(0,10,0)),t.applyGravity=!0,t._needMoveForGravity=!0,t.ellipsoid=new m.Vector3(1.5,e.playerHeight,1.5),t.checkCollisions=!0,t.attachControl(e.canvas,!0),t}}const _=new M;var L=_;class x{constructor(){this.ground={},this.imported={},this.sphere={},this.rotateSphere=new m.Animation("rotateSphere","rotation.y",10,m.Animation.ANIMATIONTYPE_FLOAT,m.Animation.ANIMATIONLOOPMODE_CYCLE),this.rotateSphere.setKeys([{frame:0,value:0},{frame:100,value:2*Math.PI}]),this.reverseRotateSphere=new m.Animation("rotateSphere","rotation.y",10,m.Animation.ANIMATIONTYPE_FLOAT,m.Animation.ANIMATIONLOOPMODE_CYCLE),this.reverseRotateSphere.setKeys([{frame:0,value:0},{frame:100,value:-2*Math.PI}])}addMesh(e,t){"ground"===e?this[e][t.name]=this.setupGround(t):"sphere"===e?this[e][t.name]=this.setupSphere(t):"imported"===e?this[e][t.name]=this.setupImported(t):"tiledground"===e?this.ground[t.name]=this.setupTiledGround(t):this[e][t.name]={}}setTexture(e,t,i){this[e][t].material=i}setupGround(e){let t=m.Mesh.CreateGround(e.name,e.width||100,e.height||100,e.subdivision||0,e.scene,e.updatable||!1);return e.texture&&(t.material=e.texture),t.checkCollisions=!0,t}setupImported(e){m.SceneLoader.ImportMesh(null,e.path,e.file,e.scene,(t=>{this.imported[e.name]=m.MeshBuilder.CreateBox(e.name,{size:e.size||1},this.scene),t.forEach((t=>{t.parent=this.imported[e.name]})),e.position&&(this.imported[e.name].position=e.position),e.rotation&&(this.imported[e.name].rotation=e.rotation),e.scaling&&(this.imported[e.name].scaling=e.scaling),this.imported[e.name].visibility=0,this.imported[e.name].checkCollisions=!0}))}setupSphere(e){const t=m.MeshBuilder.CreateBox(e.name,{size:e.diameter||1},e.scene);t.position.x=e.x||0,t.position.y=e.y||e.diameter/2||0,t.position.z=e.z||0,t.checkCollisions=!0,t.visibility=0;const i=m.Mesh.CreateSphere(`${e.name}_inner`,e.segment||16,e.diameter||1,e.scene,e.updatable||!1,e.sideOrientation||m.Mesh.FRONTSIDE);return e.texture&&(i.material=e.texture),e.rotate?(i.animations.push(this.rotateSphere),e.scene.beginAnimation(i,0,100,!0)):e.reverseRotate&&(i.animations.push(this.reverseRotateSphere),e.scene.beginAnimation(i,0,100,!0)),i.parent=t,t}setupTiledGround(e){const t={h:8,w:8},i=new m.MeshBuilder.CreateTiledGround(e.name,{xmin:-3,zmin:-3,xmax:3,zmax:3,subdivisions:t}),o=new m.MultiMaterial("multi",e.scene);o.subMaterials.push(e.texture),i.material=o;const a=i.getTotalVertices(),n=i.getIndices().length/(t.w*t.h);i.subMeshes=[];let r=0;for(let s=0;s<t.h;s++)for(let e=0;e<t.w;e++)i.subMeshes.push(new m.SubMesh(s%2^e%2,0,a,r,n,i)),r+=n;return i.checkCollisions=!0,i}}const O=new x;var A=O;let T=!1;const E={...C.meshLabels,gcn:"Gamecube",froggy_chair:"Chair"};function I(e){const t=[{type:"HemisphericLight",position:new m.Vector3(0,1,0),specular:new m.Color3.Black,diffuse:new m.Color3(.5,.5,.5)},{type:"HemisphericLight",position:new m.Vector3(0,-1,0),specular:new m.Color3.Black,diffuse:new m.Color3(.75,.75,.75)}];t.forEach(((t,i)=>{const o=new m[`${t.type}`](`${t.type}${i}`,t.position,e.scene);t.diffuse&&(o.diffuse=t.diffuse),t.specular&&(o.specular=t.specular),t.groundColor&&(o.groundColor=t.groundColor)}));const i=[{name:"mochi",diameter:12,texture:w.all.mochi,rotate:!0,position:new m.Vector3(-45,6,13)},{name:"mochi2",diameter:6,texture:w.all.mochi2,reverseRotate:!0,position:new m.Vector3(-45,12,13)},{name:"nori",diameter:10,texture:w.all.nori,rotate:!0,position:new m.Vector3(-55,6,-5)},{name:"nori2",diameter:8,texture:w.all.nori2,reverseRotate:!0,position:new m.Vector3(-70,25,-10)},{name:"g",diameter:9,texture:w.all.gregg,rotate:!0,position:new m.Vector3(-70,20,10)},{name:"l",diameter:9,texture:w.all.leo,reverseRotate:!0,position:new m.Vector3(-60,14,-20)},{name:"f",diameter:8,texture:w.all.fenny,rotate:!0,position:new m.Vector3(-40,10,-10)},{name:"i",diameter:8,texture:w.all.indy,reverseRotate:!0,position:new m.Vector3(-40,16,-20)}];i.forEach((t=>{const i=m.Mesh.CreateSphere(`${t.name}_inner`,t.segment||16,t.diameter||1,t.scene,t.updatable||!1,m.Mesh.FRONTSIDE);i.position=t.position,t.texture&&(i.material=t.texture),t.rotate?(i.animations.push(A.rotateSphere),e.scene.beginAnimation(i,0,100,!0)):t.reverseRotate&&(i.animations.push(A.reverseRotateSphere),e.scene.beginAnimation(i,0,100,!0))})),C.createStructure(e.scene);const o=[{name:"lamp",path:"assets/bioshock2/",file:"light_ceiling.glb",position:new m.Vector3(40,40,45),scaling:new m.Vector3(.15,.15,.15)},{name:"froggy_chair",path:"assets/",file:"Froggy Chair.glb",size:.2,position:new m.Vector3(50,0,55),rotation:new m.Vector3(0,Math.PI/-1.5,0),scaling:new m.Vector3(100,100,100)},{name:"sit_werewolf",path:"assets/",file:"sit_werewolf2.glb",size:.2,position:new m.Vector3(-40,0,35),rotation:new m.Vector3(Math.PI/2,Math.PI/1.5,0),scaling:new m.Vector3(.8,.8,.8)},{name:"gcn",path:"assets/",file:"gamecube.glb",collision:!0,size:25,position:new m.Vector3(25,0,125),rotation:new m.Vector3(Math.PI/2,Math.PI/-1.5,0),scaling:new m.Vector3(.25,.25,.25)}];o.forEach((t=>{S(t,e.scene)})),P(e.playerHeight,e.scene,e.canvas)}function P(e,t,i){const o=R(e);L.addCamera({name:"camera",playerHeight:e,position:o,scene:t,canvas:i}),L.addPointerLock(t,i)}function S(e,t){m.SceneLoader.ImportMesh(null,e.path,e.file,t,(i=>{const o=m.MeshBuilder.CreateBox(e.name,{size:e.size||1},t);i.forEach((e=>{e.parent=o})),e.position&&(o.position=e.position),e.rotation&&(o.rotation=e.rotation),e.scaling&&(o.scaling=e.scaling),e.collision&&(o.checkCollisions=!0),o.visibility=0}))}function R(e){return new m.Vector3(10,2.55*e,-100)}function j(e,t){if(e){const i=E[e.name]||e.name;if(e.name.includes("door_"))return{mesh:e,label:i,actionLabel:"Open",key:"e",action:()=>{e.dispose()}};if(e.name.includes("goal_"))return{mesh:e,label:i,actionLabel:"Leave",key:"e",action:()=>T?(e.dispose(),!1):"I need to find the Gamecube to leave!"};if("gcn"===e.name)return{mesh:e,label:i,actionLabel:"Collect",key:"e",resetKey:!0,action:()=>{e.dispose(),window.open("https://en.wikipedia.org/wiki/GameCube","_blank"),T=!0}};if("froggy_chair"===e.name)return{mesh:e,label:i,actionLabel:T?"Print":"Sit on",key:"e",resetKey:!0,action:()=>T?(S({name:"print_gcn",path:"assets/",file:"gamecube.glb",size:25,position:new m.Vector3(50,3.5,55),rotation:new m.Vector3(Math.PI/2,Math.PI/-1.5,0),scaling:new m.Vector3(.25,.25,.25)},t),setTimeout((()=>{window.print(),t.getMeshByName("print_gcn").position.y=-500}),250),!1):"I can't sit now... I need to find the Gamecube!"}}}var B={createScene:I,handleFacingMesh:j};class z{constructor(){this.all={}}addLight(e){return this.all[e.name]=this.setupLight(e),this.all[e.name]}setupLight(e){return new m.HemisphericLight(e.name,new m.Vector3(0,1,0),e.scene)}}new z;const D=2,G=5;var N={name:"App",data(){return{canvas:void 0,crouch:!1,engine:void 0,interact:void 0,jLock:!1,jumpCounter:D,message:void 0,scene:void 0,keys:{}}},mounted(){this.addKeyListeners(),this.canvas=document.getElementById("game");let e=this.canvas.getContext("webgl");e.getParameter(e.RENDERER),this.engine=new m.Engine(this.canvas,!0,{preserveDrawingBuffer:!0,stencil:!0}),this.scene=new m.Scene(this.engine),this.scene.gravity=new m.Vector3(0,-2.4,0),this.scene.collisionsEnabled=!0,this.scene.enablePhysics(null,new m.CannonJSPlugin(!0,10,d)),this.setTextures(),B.createScene({scene:this.scene,engine:this.engine,canvas:this.canvas,playerHeight:G}),this.scene.registerAfterRender(this.keyboardListener),this.engine.runRenderLoop((()=>{this.scene.render()})),window.addEventListener("resize",(()=>{this.engine.resize()}))},methods:{addKeyListeners(){document.addEventListener("keydown",(e=>{69==e.keyCode&&(this.keys.e=!0),32==e.keyCode&&(this.keys.space=!0),16==e.keyCode&&(this.keys.shift=!0)})),document.addEventListener("keyup",(e=>{69==e.keyCode&&(this.keys.e=!1),32==e.keyCode&&(this.keys.space=!1),16==e.keyCode&&(this.keys.shift=!1)}))},keyboardListener(){if(this.scene.isReady()&&(this.keys.shift&&!this.crouch?(L.all.camera.ellipsoid.y=G/2,this.crouch=!0):!this.keys.shift&&this.crouch&&(L.all.camera.position.y+=G,L.all.camera.ellipsoid.y=G,this.crouch=!1),this.jumpCounter<D&&!this.jLock&&L.getGroundDistance("camera",this.scene)<2*G+1&&(this.jumpCounter=D),this.keys.space&&!this.jLock&&this.jumpCounter>0&&(this.jumpCounter--,this.jLock=!0,L.jump.setKeys([{frame:0,value:L.all.camera.position.y},{frame:20,value:L.all.camera.position.y+16}]),L.all.camera.animations=[L.jump],this.scene.beginAnimation(L.all.camera,0,20,!1)),this.jLock&&!this.keys.space&&(this.jLock=!1),this.interact=B.handleFacingMesh(L.getFacingMesh("camera",this.scene),this.scene),this.interact&&this.keys[this.interact.key])){const e=this.interact.action();this.interact.resetKey&&(this.keys[this.interact.key]=!1),e&&(this.message=e,setTimeout((()=>{this.message=""}),1500))}},setTextures(){const e={ground1:"assets/mochi_full.jpg",gregg:"assets/gregg_face.png",leo:"assets/leo_face.png",mochi:"assets/mochi_face.jpg",mochi2:"assets/mochi_face_2.png",nori:"assets/nori_face.png",nori2:"assets/nori_full.png",fenny:"assets/fenny.png",indy:"assets/indy.png",floors:"assets/floors.png",walls:"assets/walls.png"};Object.keys(e).forEach((t=>{w.addTexture({name:t,samplingMode:"walls"===t||"floors"===t?1:0,scene:this.scene,asset:e[t]})}))}}},F=i(3744);const H=(0,F.Z)(N,[["render",c]]);var Y=H;(0,o.ri)(Y).mount("#app")}},t={};function i(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,o,a,n){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],n=e[c][2];for(var s=!0,l=0;l<o.length;l++)(!1&n||r>=n)&&Object.keys(i.O).every((function(e){return i.O[e](o[l])}))?o.splice(l--,1):(s=!1,n<r&&(r=n));if(s){e.splice(c--,1);var h=a();void 0!==h&&(t=h)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,a,n]}}(),function(){i.d=function(e,t){for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,n,r=o[0],s=o[1],l=o[2],h=0;if(r.some((function(t){return 0!==e[t]}))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);if(l)var c=l(i)}for(t&&t(o);h<r.length;h++)n=r[h],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(c)},o=window["webpackChunknochi3d"]=window["webpackChunknochi3d"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(7254)}));o=i.O(o)})();
//# sourceMappingURL=app.js.map?id=bb96ab66e88ed6c7